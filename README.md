# TrieProject
ΘΟΔΩΡΗΣ ΣΤΑΜΑΤΟΥΚΟΣ
ΑΜ: 1115201400189

--Υλοποιηση του Trie:
	Ενας κομβος Trie περιεχει εναν χαρακτηρα , εναν ακεραιο, εναν δεικτη σε πιθανη Posting List και τους αντιστοιχους δεικτες σε επομενους trie κομβους. Ο ακεραιος παιρνει τιμη 1 αν ο κομβος ειναι τερματικος(τελευταιο γραμμα καποιας λεξης) και 0 σε αντιθετη περιπτωση.Αν ο κομβος ειναι τερματικος τοτε ο δεικτης PsHead δειχνει στην κεφαλη της Posting List. Αν ενας κομβος δεν
ειναι τερματικος η δεικτης PsHead ειναι NULL. Ενας κομβος κεφαλης Posting List περιεχει εναν
δεικτη στον πρωτο κομβο της λιστας Posting List, ενα count που μετραει ποσους κομβους εχει η 
λιστα και εναν ακεραιο(mark). Ο ακεραιος αυτος χρησιμοποιειται στην εντολη /df για να μην 
εμφανιζονται παραπανω απο μια φορες οι ιδιες λεξεις.

--ΣΥΝΤΟΜΗ ΠΕΡΙΓΡΑΦΗ:
	Αρχικα το προγραμμα ανοιγει ενα αρχειο με κειμενα και διαβαζει μια μια τις γραμμες 
που υπαρχουν σε αυτο με τη συναρτηση getline(). Καθως διαβαζει ,μετραει το πληθος των γραμμων
και μετα δεσμευει εναν πινακα τυπου char** και μεγεθους οσο και το πληθος των γραμμων που
διαβασε(δλδ οσα ειναι και τα κειμενα). Επισης γινεται ελεγχος για τα id των κειμενων και σε
περιπτωση λαθους τερματιζει.Αφου λοιπν αποθηκευτουν τα κειμενα στον πινακα, στη συνεχεια 
γινεται η δημιουργια του Trie. Διαβαζει ενα ενα τα κειμενα και σε καθε κειμενο εξεταζονται
ενα ενα τα γραμματα τα οποια εισαγονται στις αντιστοιχες θεσεις του Trie. 
	Αφου γινει η εισαγωγη ολων των λεξεων στο Trie δινεται η επιλογη στο χρηστη να δωσει
μια εντολη αναμεσα στις: /search, /tf, /df και  /exit. Τελος μετα την εκτελεση μιας απο τις
παραπανω εντολες,  γινεται αποδεσμευση της μνημης του Trie και του Μap των documents
και το προγραμμα τερματιζει.

--ΕΝΤΟΛΕΣ:

->Εντολη /search: Η εντολη /search υλοπιειται με τη συναρτηση searchCommandWithScore(...). Αφου
διαβαστη στη main μια γραμμη απο το stdin και η πρωτη λεξη ειναι /search τοτε η παραπανω
συναρτηση αναλαμβανει να χωρισει τη γραμμη σε λεξεις και να ψαξει για αυτες στο Trie. Οταν
βρισκει μια λεξη στο Trie τοτε υπολογιζει ενα score για καθε document στο οποιο αυτη περιεχεται.
Αυτο επαναλαμβανεται για κεθε λεξη που εχει δοθει με την /search( υπολογιζει μερχι 10 λεξεις).
Μετα εμφανιζονται τα K(ή λιγοτερα αν δεν βρεθουν Κ) καλυτερα documents με βαση το score. Στη 
συναρτηση αυτη δεν εχω φτιαξει την υπογραμμιση των λεξεων που ζητειται.

->Εντολη /tf: Η υλοποιηση της γινεται με τη συναρτηση tfCommand(...) η οποια ψαχνει τη λεξη που 
δοθηκε στο κειμενο που δοθηκε. Αν η λεξη αυτη βρεθει στο αντιστοιχο κειμενο τοτε εκτυπςνεται 
η συχνοτητα εμφανισης της λεξης στο κειμενο αυτο.Αν δεν δοθει λεξη η αριθμος(id) εκτυπωνει 
μηνυμα λαθους.

->Εντολη /df: Η υλοποιηση της εντολης αυτης γινεται με τη συναρτηση dfCommand(...). Αρχικα αν 
μαζι με την /df δοθει και μια συγκεκριμενη λεξη τοτε εκτυπςνεται η συχνοτητα εμφανισης στο
αρχειο μονο αυτης της λεξης. Διαφορετικα μεσω του map διαβαζει τις λεξεις και μεσω του Trie
καταληγει στις Posting Lists  των λεξεων για να εκτυπωθει η αντιστοιχη πληροφορια. Εδω ειναι 
που χρησιμοποιειται το mark πεδιο που ειναι στη δομη της Posting List κεφαλης. Αν μια λεξη 
εκτυπωθει μια φορα τοτε "μαρκαρεται" ωστε να μην ξανα εκτυπωθει σε περιπτωση που ξανα βρεθει σε
καποιο κειμενο. Σε αυτη τη συναρτηση ειχα καποιο προβλημα και οταν την τρεχω υπαρχουν καποιες 
λεξεις που δεν τις βρισκει στα μεγαλα αρχεια αλλα δεν μπορεσσα να βρω το λαθος.

Για την αποδεσμευση του Trie εχω υλοποιησει τη συναρτηση TrieDelete() η οποια χρησιμοποιει τη στοιβα του αρχειου stackType.c/.h, Η υλοποιηση της στοιβας γινεται με μια λιστα . Καθε κομβος 
της λιστας περιεχει εναν δεικτη σε εναν κομβο του Trie, εναν δεικτη σε επομενο κομβο λιστας και 
εναν ακεραιο που αναπαριστα απο ποιον κομβο ηρθαμε στον τρεχον κομβο. Η λογικη της συναρτησης
ειναι να φτασουμε σε κομβο φυλλο , να τον διαγραψουμε και μετα να γυρισουμε πισω να διαγραψουμε
και τους κομβους απο τους οποιος περασαμε μεχρι να φτασουμε στον κομβο φυλλο.Η στοιβα κραταει ολους αυτους τους κομβους.

Οι συναρτησεις quicksort και  partition  ειναι απο το διαδικτυο με καποιες τροποποιησεις για τα
δεδομενα της ασκησης.

--ΟΡΙΣΜΑΤΑ ΚΑΤΑ ΤΗΝ ΕΚΤΕΛΕΣΗ: Το προγραμμα μπορει να τρεξει με τους εξεις τροπους:
	./minisearch -i <filename> 
	./minisearch -i <filename> -k K
	./minisearch  -k K -i <filename>
Μαζι με τα αρχεια που παραδιδω εχω και ενα δικο μου μικροτερο αρχειο που χρησιμοποιουσα.


